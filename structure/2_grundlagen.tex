\chapter{Grundlagen}
\label{cha:grundlagen}

\section{Blockchain Grundlagen}

\subsection{Funktionsweise}
Die Funktionsweise der Blockchain wird hauptsächlich an Bitcoin erklärt. Als erste Blockchain-Anwendung \cite{ZhengBlockchainChallengesOpportunities2017} und aufgrund der relativ geringen Komplexität liefert es die Grundlage für die Funktion der Technologie. Andere Implementationen, wie Ethereum oder Ripple, funktionieren nach dem gleichen Prinzip.

\subsubsection{Allgemein}
Wenn der Begriff ``Die Blockchain'' auftaucht, ist damit meistens die Blockchain-Technologie gemeint. Es gibt nicht nur eine global bestehende Blockchain und auch nicht nur eine Implementation der Technologie, was man an Bitcoin oder Ethereum sehen kann.

Allgemein kann man die Blockchain als Datenstruktur bezeichnen, welche verteilt, nicht löschbar und unmanipulierbar gespeichert werden kann. Weiterhin verifizieren jegliche Teilnehmer am Netzwerk ausgeführte Transaktionen, womit ein gemeinsamer Konsens über den Datenbestand besteht \cite{CrosbyBlockChainTechnologyBitcoin2016}.

In einer Blockchain werden Transaktionen in Blöcken gespeichert. Dabei handelt es sich um Operationen, welche Daten erstellen, verändern, oder löschen. Aus diesen lässt sich letztendlich der aktuelle Datenbestand ermitteln. So erfolgt z.B. bei Bitcoin keine Speicherung des aktuellen Guthabens der Teilnehmer. Es wird nur aus allen bestehenden Transaktionen berechnet \cite{AntonopoulosMasteringbitcoin2015}. Die Daten welche letztendlich bestehen, können z.B. Geldtransferinformationen (Bitcoin), Smart Contracts (Ethereum, selbstausführende Verträge mit selbst erstellter Programmlogik, siehe \ref{subsec:use-cases}), oder simple Dokumente oder Informationen sein \cite{EthereumTeamEthereumWhitePaper2017}\cite{NakamotoBitcoinPeertoPeerElectronic2008}\cite{HyperledgerFabricTeamHyperledgerWhitepaper2016}. Die Blöcke setzen sich zusammen aus den Transaktionen sowie den Block Header, welcher verschiedene Metadaten, wie zum Beispiel den kombinierten Hash\footnote{Hash: Ergebnis einer Operation, welche ``eine Zeichenfolge beliebiger Länge auf eine Zeichenfolge mit fester Länge abbildet'' \cite{AntonopoulosMasteringbitcoin2015}.} aller Transaktionen, enthält \cite{AntonopoulosMasteringbitcoin2015}.

Die Blöcke sind miteinander verkettet. Jeder Block Header enthält den Hash  des vorherigen Block Headers (siehe Abb. \ref{fig:block-chain}). Dies ist ein wichtiges Feature zum Schutz der Blockchain vor Angriffen. Wenn ein Angreifer die Transaktionen eines Blocks zu seinen Gunsten verändern würde, würde sich der Hash des Block Headers ändern. Dieser müsste dann im darauffolgenden Block Header stehen, womit sich allerdings auch der Hash dieses Blocks ändert. Letztendlich müssten alle folgenden Blöcke manipuliert werden, um eine gültige Blockchain zu erhalten \cite{NakamotoBitcoinPeertoPeerElectronic2008}. Diese Manipulation wird durch verschiedene Verfahren erschwert, welche genauer in den Kapiteln \ref{subsec:konsens} und \ref{subsec:immutability} erklärt werden.

\begin{figure}[!htbp]
  \centering
	\includegraphics[width=0.85\textwidth,angle=0]{images/block-chain}
 	\caption{Verkettung von Blöcken durch Block Header Hashes \cite{RosicWhatHashingHood2017}.}
	\label{fig:block-chain}
\end{figure}

Die Blockchain ist verteilt gespeichert. Jeder Teilnehmer hat die Möglichkeit Sie auf seinen Rechner zu speichern. Somit besteht keine zentrale Instanz, welche die Kontrolle über die Daten hat. Weiterhin gibt es keinen Single Point of Failure\footnote{Single Point of Failure: Komponente eines Systems, dessen Ausfall den Ausfall des gesamten Systems bewirkt \cite{AntonopoulosMasteringbitcoin2015}.} \cite{CrosbyBlockChainTechnologyBitcoin2016}.

\label{subsec:konsens}
\subsubsection{Konsensmechanismen}
Aufgrund der verteilten Datenhaltung muss es Verfahren geben, um die Daten synchron, und auf einen Stand, auf welchen sich alle Teilnehmer geeinigt haben, zu halten. Dazu gibt es die sogenannten Konsensmechanismen, welche gleichzeitig die Unmanipulierbarkeit der Daten sicherstellen. Bevor diese erklärt werden können, muss zunächst genauer auf die Funktion des Netzwerks eingegangen werden.

\paragraph{Funktion des Netzwerks}Wenn ein Teilnehmer eine Transaktion ausführt, wird diese, vorausgesetzt dass sie valide ist (Genauer im nächsten Absatz erklärt), an alle Nodes\footnote{Node: Teilnehmer eines Blockchain-Netzwerks, welche die Blockchain speichern. Auch Peers genannt.} im Netzwerk weitergeleitet und im Transaktionspool aufgenommen. Dieser enthält alle noch nicht in Blöcken vorkommenden Transaktionen. Diese werden in einen neuen Block aufgenommen, und jede Node beginnt mit der Erstellung von diesem. Das Erstellen wird durch verschiedene Konsensmechaniken realisiert. Bei Bitcoin und Ethereum findet der PoW (im folgenden PoW genannt) Anwendung (weiter unten genauer unter erklärt). Sobald eine Node einen Block erstellt, wird dieser im Netzwerk verteilt. Jede Node hängt ihn an ihre lokale Blockchain an, und beginnt mit der Erstellung des nächsten Blocks \cite{AntonopoulosMasteringbitcoin2015}.

Damit eine Transaktion valide ist, muss sie bestimmte Voraussetzungen erfüllen. So muss sie unter anderen mit den Private Key des Senders signiert sein. Mittels seines Public Keys kann überprüft werden, ob wirklich er der Sender der Nachricht ist und ob die Transaktion manipuliert wurde. Dieses Verfahren wird auch in der Abbildung \ref{fig:key-signing} visualisiert. Das Signieren trägt zur Sicherheit der Blockchain bei, da ein Angreifer somit keine Transaktionen manipulieren oder im Namen eines anderen ausführen kann. In Bitcoin ist eine weitere Kondition, dass der Transaktionsersteller die zu sendenden Bitcoins besitzt \cite{AntonopoulosMasteringbitcoin2015}. In Systemen wie Ethereum und Hyperledger Fabric, in welchen eigene Programmlogik abgebildet werden kann, können weitere Konditionen festgelegt werden. So muss z.B. ein Teilnehmer die nötigen Rechte haben um eine Transaktion auszuführen \cite{HyperledgerComposerTeamAccessControlLanguage}.

\begin{figure}[!htbp]
	\centering
	  \includegraphics[width=0.5\textwidth,angle=0]{images/key-signing}
	  \caption{Signieren und Verifizieren von Nachrichten. Der Sender signiert die Nachricht mit seinen Private Key und der Empfänger kann diese mit den Public Key des Senders verifizieren \cite{WikimediaCommonsPublickeysigning2006}.}
	  \label{fig:key-signing}
\end{figure}
	
\paragraph{Proof-of-Work}
Der Proof-of-Work (PoW) ist nur einer der zur Verfügung stehenden Konsensmechanismen (siehe Kapitel \ref{sec:eval-konsens}). Er bedarf jedoch genauerer Erklärung, da er in aktuellen Blockchain-Implementationen vorwiegend genutzt wird. Der PoW ist eine Art Rätsel, welches mit der Rechenleistung von Nodes gelöst werden muss, um einen Block zu erschaffen (das sogenannte Mining). Genauer gesagt, muss für einen Block ein Hash gefunden werden, welcher einen bestimmten Wert unterschreitet. Desto kleiner dieser ist, desto höher ist die Schwierigkeit. Um wachsender Rechenleistung und Teilnehmerzahl entgegen zu wirken, also die Zeit für die Erstellung eines Blockes ungefähr gleich zu halten, kann die Schwierigkeit angepasst werden. Dies ist aufgrund verschiedener Faktoren nötig, welche genauer im Kapitel \ref{cha:b2b-eval} erläutert werden. Um unterschiedliche Hashwerte für gleiche Blöcke zu erhalten, gibt es im Block Header eine Nonce\footnote{Nonce: Eine ``Zahlen- oder Buchstabenkombination, die nur ein einziges Mal in einem jeweiligen Kontext verwendet wird''\cite{AntonopoulosMasteringbitcoin2015}.}, welche verändert wird \cite{NakamotoBitcoinPeertoPeerElectronic2008}. Alle Nodes im Bitcoin-Netzwerk benötigen im Durchschnitt 10 Minuten um einen PoW zu erbringen \cite{AntonopoulosMasteringbitcoin2015}, bei einer Hash Rate\footnote{Hash Rate: Anzahl der in einer Zeiteinheit berechneten Hashwerte \cite{BitcoinTeamBitcoinGlossar}.} von ca. 13.000.000 TH/s (Terrahashes pro Sekunde) \cite{EtherscanEthereumNetworkHashRate}. Bei Ethereum beträgt die Zeit ungefähr 15 Sekunden \cite{EtherscanEthereumAverageBlockTime}, bei einer Hash Rate von ca. 150 TH/s \cite{EtherscanEthereumNetworkHashRate}. Spezielle Hardware für das Mining erreicht eine Hashrate von bis zu 13,5 TH/s \cite{BitcoinminingLearnBitcoinmining}. Damit die Nodes eine Motivation haben, Rechenleistung für das Erstellen von Blöcken zu nutzen, erhalten sie bei Erbringung des PoW eine Belohnung, sowie die Transaktionsgebühren in Form von Kryptowährung. In Verbindung mit den Mining sind auch Mining Pools zu erwähnen. Dabei handelt es sich um einen Zusammenschluss von Minern, welche probieren den PoW zu erbringen. Gelingt dies, wird die Belohnung zwischen allen Teilnehmern im Pool geteilt.  \cite{NakamotoBitcoinPeertoPeerElectronic2008} \cite{EthereumTeamEthereumWhitePaper2017}. 

\paragraph{Forking}
Um vollständig zu verstehen, wie der PoW funktioniert, muss das Forking erklärt werden. Wenn eine Node einen PoW erbringt, also einen Block erstellt, wird dieser an alle anderen Nodes weitergeleitet. Im Bitcoin-Netzwerk dauert es bei einer maximalen Blockgröße von 1MB \cite{AntonopoulosMasteringbitcoin2015}, zwischen 6 und 20 Sekunden, bis ein Block mindestens 90\% aller Nodes erreicht hat \cite{BitcoinStatsBitcoinPropagationData}. Dies stimmt auch mit den Paper von Decker und Wattenhofer überein, wo eine durchschnittliche Zeit von 12,6 Sekunden angegeben wird, bis ein Block 95\% aller Nodes erreicht \cite{DeckerInformationpropagationbitcoin2013}. In dieser Zeit kann es vorkommen, dass eine weitere Node einen Block erstellt. Auch dieser wird im Netzwerk verteilt, womit zwei Versionen der Blockchain existieren: Eine endet mit Block A, und die andere mit Block B. Dies ist der sogenannte Fork. Das Netzwerk muss sich nun darauf einigen, welche der beiden Versionen beibehalten werden soll. Deshalb gilt: Die Blockchain in welche mehr Arbeit eingeflossen ist, ist die gültige. Im Falle von Bitcoin wäre dies die längere Blockchain. Die Nodes probieren an den zuerst erhaltenen Block (A oder B) einen neuen anzuhängen. Gelingt dies, ist eine der beiden Blockchains länger als die andere. Diese wird dann von allen Nodes als die richtige akzeptiert. Dieser Vorgang wird auch in den Abbildungen \ref{fig:fork_1} bis \ref{fig:fork_4} dargestellt. Theoretisch ist es möglich, dass ein Fork über mehrere Blöcke besteht. Die Wahrscheinlichkeit dafür ist jedoch gering, da mehrmals nacheinander mindestens zwei Nodes zur ungefähr gleichen Zeit einen Block erstellen müssen. Auch zu erwähnen ist, dass in einem Fork-Branch weitere Forks entstehen können. Diese Forks sind der Grund, warum Transaktionen erst als bestätigt gelten, sobald sie in einem Block stehen, welcher eine gewisse Anzahl an Nachfolgern hat. Denn erst dann ist die Sicherheit gegeben, dass die Transaktion nicht in einem Fork vorhanden ist, welcher eventuell verworfen wird \cite{AntonopoulosMasteringbitcoin2015}. Wie genau der PoW das Netzwerk absichert, wird im Kapitel \ref{subsec:immutability} erklärt.

\begin{figure}[!htbp]
  \centering
    \includegraphics[width=0.95\textwidth,angle=0]{images/fork_1}
 	\caption{Fork-Visualisierung - Vor dem Fork besitzen alle Nodes Block O als letzten Block \cite{AntonopoulosMasteringbitcoin2015}.}
	\label{fig:fork_1}
\end{figure}

\begin{figure}[!htbp]
  \centering
	\includegraphics[width=0.95\textwidth,angle=0]{images/fork_2}
 	\caption{Fork-Visualisierung - zwei Nodes finden zur ungefähr gleichen Zeit einen Block und verbreiten ihn im Netzwerk, womit zwei Versionen der Blockchain bestehen \cite{AntonopoulosMasteringbitcoin2015}.}
	\label{fig:fork_2}
\end{figure}

\begin{figure}[!htbp]
  \centering
	\includegraphics[width=0.95\textwidth,angle=0]{images/fork_3}
 	\caption{Fork-Visualisierung - Eine Node, welche Block A zuerst erhalten hat, hängt daran einen neuen Block C an \cite{AntonopoulosMasteringbitcoin2015}.}
	\label{fig:fork_3}
\end{figure}

\begin{figure}[!htbp]
  \centering
	\includegraphics[width=0.95\textwidth,angle=0]{images/fork_4}
 	\caption{Fork-Visualisierung - Block C verbreitet sich im Netzwerk, rote Nodes sehen zwei Blockchains und akzeptieren die längere \cite{AntonopoulosMasteringbitcoin2015}.}
	\label{fig:fork_4}
\end{figure}

Neben dem PoW gibt es noch weitere Konsensmechanismen, wie Proof-of-Stake, Proof-of-Authority oder Practical Byzantine Fault Tolerance \cite{SukhwaniPerformanceModelingPBFT2017a}, \cite{DeAngelisPBFTvsproofofauthority2017} . Diese werden im Kapitel \ref{sec:eval-konsens} genauer beschrieben und analysiert.

%S.18 ZhengBlockchainChallenges: Selfish Mining Attack and following attacks ?

\subsubsection{Nichtangreifbarkeit/Immutability}
\label{subsec:immutability}
Viele Faktoren tragen zur Nichtangreifbarkeit und Unveränderlichkeit (im weiteren Verlauf nur noch als Sicherheit bezeichnet) der Blockchain bei. Da alle Nodes die ausgeführten Transaktionen auf Validität prüfen, können diese nicht ohne Berechtigung, im Namen einer anderen Identität, oder mit unzureichenden Konditionen ausgeführt werden. Der wichtigste Faktor ist jedoch der genutzte Konsensmechanismus in Verbindung mit den verketteten Blöcken. Durch ihm wird sichergestellt, dass bestehende Daten nicht gelöscht oder manipuliert werden können.

Ein Beispiel dafür kann am PoW gezeigt werden. Ein Angreifer probiert eine Transaktion aus einen bestehenden Block zu entfernen. Dazu würde er die Transaktion bei seiner lokalen Blockchain entfernen. Nun ist jedoch der Hash des Blockes sowie der Block selber nicht valide und würde von keiner Node akzeptiert werden. Der Angreifer muss also erneut einen PoW für den manipulierten Block erbringen. Dies wäre für eine Einzelperson jedoch zeitaufwändig. Wenn der manipulierte Block nun noch Nachfolger hat, muss aufgrund des neuen Hashes auch für diese der PoW erbracht werden. Hinzu kommt, dass die Blockchain des Angreifers erst von allen Nodes akzeptiert wird, wenn sie länger ist. Er müsste also schneller als das gesamte Bitcoin-Netzwerk Blöcke erschaffen können. Dies ist nur möglich, wenn er 51\% der Rechenleistung des Netzwerks besitzt. Deshalb wird dieser Angriff auch 51\%-Angriff genannt \cite{SwanBlockchainblueprintnew2015} \cite{EthereumTeamEthereumWhitePaper2017}. 

An dieser Stelle sollte erwähnt werden, dass auch wenn ein 51\%-Angriff erfolgt, die Angriffsmöglichkeiten beschränkt sind. Der Angreifer kann keine unvaliden Transaktionen sowie Blöcke erstellen. Ihm ist es möglich DoS-Angriffe auszuführen, indem er verhindert das bestimmte Transaktionen in Blöcke aufgenommen werden. Ebenso kann er die Historie der Daten verändern, indem er eine Transaktion aus einem Block entfernt. Dabei ist jedoch zu bedenken, dass die Transaktion zurück in den Transaktionspool geht. Es muss also jeden weiteren Block erstellen, um zu verhindern dass die Transaktion nicht erneut in einen Block aufgenommen wird, oder oder dafür sorgen, dass sie ungültig wird. Im Falle von Kryptowährungen wird ein solcher Angriff Double-Spend-Angriff genannt: Ein Angreifer sendet z.B. Bitcoins an einen Händler. Dieser wartet auf die Bestätigung der Transaktion in einen Block sowie auf nachfolgende Blöcke. So stellt er sicher, dass die Transaktion nicht in einem eventuell verworfenen Fork stand. Erst dann versendet er die Ware. Anschließend ersetzt der Angreifer die Transaktion durch eine Zahlung an sich selber und erstellt die längere Blockchain, womit der Händler letztendlich kein Geld erhalten hat \cite{EthereumTeamEthereumWhitePaper2017}. Auch zu bedenken ist, dass ein Nutzer mit 51\% der Rechenleistung wenig Motivation hat Angriffe auszuführen, da er für jeden erstellten Block Kryptowährung als Belohnung erhält. Der Wert der Kryptowährung würde sinken, wenn Angriffe auf die Blockchain entdeckt werden. Deshalb besteht für die sogenannten Miner eine Motivation, ehrlich zu arbeiten \cite{AntonopoulosMasteringbitcoin2015}.

Der eben genannte Double-Spend-Angriff kann auf verschiedene Arten durchgeführt werden. So könnte ein Angreifer eine Ware mit Bitcoins bezahlen, und diese sofort erhalten. Bevor seine Transaktion jedoch in einen Block besteht, transferiert er die gleichen Bitcoins an sein anderes Konto. Wenn diese beiden Transaktionen letztendlich in einen Block aufgenommen werden sollen, wird eine der Transaktionen ungültig sein, womit der Verkäufer eventuell keine Zahlung erhält \cite{AntonopoulosMasteringbitcoin2015}.

\subsection{Blockchaintypen}
Es gibt drei Typen von Blockchains, welche die zugelassenen Teilnehmer bestimmen. Bisher wurden nur Public Blockchain-Anwendungen, wie Bitcoin und Ethereum erwähnt. In diesen gibt es keine Teilnehmerbeschränkungen, jeder kann am Netzwerk teilnehmen und die Blockchain öffentlich einsehen. Anders ist dies bei Permissioned (oder auch Consortium \cite{BenHamidaBlockchainEnterpriseOverview2017}) und Private Blockchains. Die beiden Begriffe werden in einigen wissenschaftlichen Arbeiten gleichgesetzt (siehe \cite{Gramolidangerprivateblockchains2016}, \cite{PongnumkulPerformanceAnalysisPrivate2017}, \cite{LiScalablePrivateIndustrial2017}). Hier folgt jedoch eine Unterscheidung. Dabei ist eine Private Blockchain, eine Blockchain welche nur von einen Nutzer verwendet wird. Da eine solche Anwendung keinen Sinn macht, da keine Vorteile der Blockchain genutzt werden können, wird darauf nicht genauer eingegangen. Interessanter sind Permissioned Blockchains, an welchen nur zugelassene Nutzer teilnehmen dürfen. Nur diese sind berechtigt, Transaktionen auszuführen und die Daten einzusehen \cite{LiScalablePrivateIndustrial2017}. Dies bietet sich vor allem bei B2B-Anwendungen an, welche von verschiedenen Unternehmen genutzt werden sollen. In diesen kann es aufgrund von z.B. sensiblen Daten nötig sein, das nur bestimmte Parteien Zugriff auf die Blockchain haben. Tabelle \ref{tab:bc-comparison} vergleicht die Blockchaintypen untereinander sowie mit einer zentralen Datenbank.

\begin{table}[h]
    \centering
	\begin{tabular}{c c c c}
	\textbf{} & \textbf{Public BC} & \textbf{Permissioned BC}  & \textbf{Zentrale DB} \\ \hline
	Transaktionsdurchsatz & Gering & Hoch & Sehr hoch \\ \hline
    Nicht vertrauenswürdige Nodes & Viele & Wenige & Keine \\ \hline
    Konsensmechanismus & Hauptsächlich PoW & BFT-Protokolle & Keiner \\ \hline
    Zentral verwaltet & Nein & Teilweise & Ja \\
    \end{tabular}
    \caption{Vergleich der Blockchaintypen mit Datenbanksystemen. Die erwähnten BFT-Protokolle werden genauer im Kapitel \ref{sec:eval-konsens} erläutert \cite{WustyouneedBlockchain2017}\cite{ZhengBlockchainChallengesOpportunities2017}.}
	\label{tab:bc-comparison}
\end{table}

\subsection{Exemplarische Anwendungsfälle}
\label{subsec:use-cases}
Die Blockchain wird als revolutionäre Technologie angepriesen (siehe \cite{TapscottBlockchainRevolutionWieTechnologie2016}). Trotzdem ist es wichtig zu wissen, für welche Zwecke sie wirklich geeignet ist. Grundsätzlich macht eine Blockchain Sinn, wenn mehrere Parteien, welche sich nicht vertrauen, mit einen System interagieren wollen, welches von keiner dritten zentralen Instanz verwaltet wird \cite{WustyouneedBlockchain2017}. Um eine bessere Vorstellung zu solchen Anwendungen zu erhalten, werden im Folgenden verschiedene Exemplarische Anwendungsfälle genannt und beschrieben.

Der erste Anwendungsfall, mit welchen die Blockchain-Technologie auch entstanden ist, sind Kryptowährungen. Mit Ihnen ist es möglich Geld zwischen beliebigen Parteien zu übertragen, ohne dass die Transaktionen von einer eventuell nicht vertrauenswürdigen Bank oder ähnlichem kontrolliert und verwaltet werden \cite{SwanBlockchainblueprintnew2015}.

Weitere Anwendungsfälle ergeben sich mit der Möglichkeit Programmlogik auf der Blockchain abzubilden. So können beispielsweise dezentrale Online-Wahlen realisiert werden. Die Stimmen würden in der Blockchain gesammelt werden, und können so letztendlich nicht mehr von z.B. einer korrupten Regierung manipuliert werden \cite{CastorEthereumVotingScheme2017}. 

Ein weiterer Anwendungsfall, insbesondere für den B2B-Bereich, wäre Supply Chain Management. Über eine digitale Lieferkette sollen Material- und Informationsflüsse zu Produkten und Dienstleistungen aufgebaut und verwaltet werden \cite{KriegerSupplyChainManagement}. Dies erlaubt Unternehmen das automatisieren von Prozessen und das verbesserte reagieren auf Ereignisse (z.B. Lieferverspätungen). Weiterhin ist es dem Unternehmen möglich, dem Kunden exakt aufzuzeigen wo es und seine Unterprodukte produziert wurden. In klassischen B2B-Anwendungen müsste jedes Unternehmen, welches ein Teil der Supply Chain ist, die relevanten Daten durch z.B. APIs\footnote{API: Schnittstelle für Anwendungsprogrammierung\cite{DigHowAPIsevolve2006}} bereitzustellen. Dies bedeutet Aufwand, da diese erstmal entwickelt werden müssen. Weiterhin müssten Systeme von all diesen unterschiedlichen Schnittstellen die Daten abfragen und zusammenführen um die Supply Chain zu erstellen. Aufgrund dieses Aufwandes werden oft Dritte eingestellt, welche sich um den Aufbau und um die Datenintegration der Supply Chain kümmern. Den Aufwand, sowie die eventuell nicht vertrauenswürdige dritte Partei könnte man durch die Nutzung der Blockchain überspringen. In dieser könnte jedes Unternehmen die relevanten Daten an einer Stelle speichern. Die Supply Chain wäre direkt in der Blockchain vorhanden, und kein Unternehmen muss Datenmanipulation oder ähnliches befürchten \cite{KorpelaDigitalSupplyChain2017}.

Auch dezentrale Märkte sind für B2B-Anwendungen interessant. Der zentrale Marktplattformbetreiber, wie z.B. Ebay oder Amazon, welcher persönliche Informationen speichert und Gebühren für den Verkauf von Artikeln verlangt, wäre hinfällig. Nutzer könnten Waren untereinander verkaufen, während die Blockchain als Notar für den Warenaustausch dient \cite{BenHamidaBlockchainEnterpriseOverview2017}.

Ein weiteres Beispiel wären Blockchain Sharing-Systeme. So könnte ein dezentrales Fahr-radleihsystem aufgebaut werden. Nutzer würden mit ihrem Smartphone, über ihre in der Blockchain hinterlegte Identität (im Falle von z.B. Ethereum die Wallet-Adresse\footnote{Wallet: Speichert z.B. bei Ethereum und Bitcoin den Private Key des Nutzers und wird z.B. als Adresse für Zahlungen genutzt \cite{AntonopoulosMasteringbitcoin2015}.}), das Fahrrad entsperren. Dieser erkennt automatisch die gefahrene Distanz sowie die Nutzungsdauer. Über einen Smart Contract würde anschließend die automatische Zahlung erfolgen. Neben der Automatisierung besteht der Vorteil, dass mehrere Unternehmen oder auch Privatpersonen Leihfahrräder anbieten können, ohne dass sie einer zentralen Instanz mit der Verwaltung vertrauen müssen \cite{FutureFluxFestivalBlockchainBikes}, \cite{FischerIoTBlockchain}.

%TODO: ALs eigenes Kapitel ?
%TODO: (Blockchain)-B2B-Anwendungen ?
\section{Anforderungen an B2B-Anwendungen}
\label{sec:general-requirements}
Für den zu entwickelnden Prototypen ergeben sich verschiedene Anforderungen, welche allgemein für B2B-(Blockchain)-Anwendungen gelten. Es ist wichtig diese zu kennen, um die Blockchain-Technologie in Bezug auf diese zu evaluieren.

\paragraph{Identitätsverwaltung}
Eine B2B-Anwendung besteht zwischen verschiedenen Unternehmen. Die Identität dieser muss bekannt sein, um die Teilnahmeerlaubnis zu erteilen und Berechtigungen zu verwalten. Die Identitäten sind ebenfalls in einer Blockchain von Bedeutung, um ausgeführte Transaktionen den Teilnehmern zuordnen zu können. Die für den Prototypen genutzte Blockchain-Implementierung muss also das registrieren und identifizieren von Teilnehmern unterstützen.

\paragraph{Berechtigungsverwaltung}
Die verschiedenen Teilnehmer haben unterschiedliche Rechte was das Lesen, Erstellen und Verändern von Daten betrifft. So ist es z.B. wichtig, dass ein Teilnehmer nur seine eigenen, in der Blockchain registrierten Assets\footnote{Assets: Besitz/Eigentum} verändern kann.

\paragraph{Private Transaktionen}
Bei Blockchains wie Bitcoin und Ethereum sind alle Daten in der Blockchain für alle Teilnehmer einsichtbar. Aufgrund von sensiblen Daten kann es allerdings vorkommen, das nicht alle Transaktionen für alle Teilnehmer sichtbar sein sollen. So sollen z.B. Preisabsprachen nur von den relevanten Unternehmen eingesehen werden können.

\paragraph{Skalierbarkeit und Performance}
In Bitcoin ist lediglich ein Transaktionsdurchsatz von 7 Transaktionen pro Sekunde möglich \cite{ZhengBlockchainChallengesOpportunities2017}. Hinzu kommt, dass es ca. zwischen 30 Minuten und 16 Stunden dauern kann, bis eine Transaktion bestätigt ist \cite{BuchkoHowLongBitcoin2017}. Darauf wird auch genauer im Kapitel \ref{sec:scalability-eval} eingegangen. In B2B-Anwendungen kann die Performance und Skalierbarkeit von großer Bedeutung sein. Je nach Art der Anwendung und Anzahl der Teilnehmer muss ein höherer Transaktionsdurchsatz als bei Bitcoin erzielt werden. Die Skalierbarkeit ist vor allem bei den Einsatz von IoT-Geräten von Bedeutung, welche untereinander kommunizieren und Transaktionen ausführen. Gartner behauptet, dass es bis 2020 ca. 7,zwei Billionen vernetzte Geräte im Business-Sektor geben wird \cite{RobGartnerSaysBillion2015}.

\paragraph{Sicherheit}
Die Sicherheit wird durch die genutzte Konsensmechanik realisiert. Der am häufigsten genutzte PoW ist in einem Netzwerk mit wenig Teilnehmern allerdings unsicher, da es einfach ist 51\% der Rechenleistung zu erreichen. Weiterhin führt er zu einen hohen Stromverbrauch (Im Bitcoin-Netzwerk der Verbrauch von ca. 3.500.000 US-Haushalten \cite{DigiconomistBitcoinEnergyConsumption}), welcher nicht erwünscht ist. Ebenfalls beeinflusst der PoW massiv die Performance (siehe Kapitel \ref{cha:b2b-eval}).



